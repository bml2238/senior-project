

<div class="year-container" *ngFor="let yearLevel of yearLevels">
  <mat-card class="year-card">
    <mat-card-header>
      <div class="year-name">{{yearLevel}}</div>
    </mat-card-header>
  </mat-card>


  <mat-accordion>
    <ng-container *ngFor="let milestone of milestonesMap.get(yearLevel)">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-checkbox [checked]="milestone.isComplete" color="primary" (click)="$event.stopPropagation()"></mat-checkbox>
            {{milestone.name}}
          </mat-panel-title>
<!--  Use if we want to display a description -->
<!--          <mat-panel-description>-->
<!--            {{milestone.description}}-->
<!--          </mat-panel-description>-->
        </mat-expansion-panel-header>
        <mat-expansion-panel class="task-expansion-panel" *ngFor="let task of milestone.tasks">
          <mat-expansion-panel-header>
            <div class="flex-vertical-align">
              <mat-checkbox disabled [checked]="task.isComplete" color="primary" (click)="$event.stopPropagation()"></mat-checkbox>
              <p>{{task.description}}</p>
            </div>
          </mat-expansion-panel-header>
        </mat-expansion-panel>
        <mat-expansion-panel class="event-expansion-panel" *ngFor="let event of milestone.events">
          <mat-expansion-panel-header>
            <div class="flex-vertical-align">
              <mat-checkbox disabled [checked]="event.isComplete" color="primary" (click)="$event.stopPropagation()"></mat-checkbox>
              <div>{{event.name}}</div>
            </div>
          </mat-expansion-panel-header>
          <div>{{event.description}}</div>
          <div>{{event.date | date:'short'}}</div>
          <div>{{event.organizer}}</div>
          <div>{{event.location}}</div>
          <div>&nbsp;</div>
        </mat-expansion-panel>
      </mat-expansion-panel>
    </ng-container>
  </mat-accordion>

</div>
